# DEBE

Extends the **TOTEM** web service to provide the following endpoints:

	DATASET.TYPE ? QUERY
	NOTEBOOK.TYPE ? QUERY
	AREA/PATH/FILE.TYPE ? QUERY
	COMMAND.TYPE ? QUERY

to access *DATASET*s, *NOTEBOOK*s, *FILE*s and *COMMAND*s per 
[Totem's API](http://totem.hopto.org/api.view) and 
[TOTEM's skinning guide](https://totem.hopto.org/skinguide.view).

Use *TYPE* to convert a *DATASET*:

	db | xml | csv | txt | flat | kml | html | json

inspect a *DATASET*:

	tree | schema | nav | delta | view | blog

render a *NOTEBOOK*:
 
	view | run | plugin | pivot | site | spivot | brief | gridbrief | pivbrief | runbrief

probe a *NOTEBOOK*:

	exe | tou | md | status | suitors | usage | reset | EVENTS

manage a *NOTEBOOK*:

	import | export | publish | addkey | subkey

license a *NOTEBOOK*:

	js | py | m | me | jade | ...

**DEBE** also provides the following service *COMMAND*s:

	agent | alert | ingest | riddle | task | ping
	
to distribute jobs, alert clients, ingest data, validate sessions, spread tasks, and 
test connections, and provides several *FILE* areas: 

	stores | uploads | shares | west | east | jades

for supervised/unsupervised file sharing.

## Local Installation

Clone **TOTEM** from one of its repos:

	git clone https://github.com/totemstan/totem
	git clone https://sc.appdev.proj.coe/acmesds/totem
	git clone https://gitlab.west.nga.ic.gov/acmesds/totem

and define its env vars:

	MYSQL_HOST = domain name
	MYSQL_USER = user name
	MYSQL_PASS = user password
	TXMAIL_HOST = DOMAIN:PORT
	TXMAIL_USER = ACCOUNT:PASSWORD
	RXMAIL_HOST = DOMAIN:PORT
	RXMAIL_USER = ACCOUNT:PASSWORD
	SERVICE_PASS = passphrase to server pki cert
	SERVICE_WORKER_URL = http(s)://DOMAIN:PORT
	SERVICE_MASTER_URL = http(s)://DOMAIN:PORT
	HOSTNAME = name of host machine
	REPO = http(s)://DOMAIN:ACCOUNT
	JIRA = http://DOMAIN
	RAS = http://DOMAIN
	BY = https://DOMAIN

Passwords are defined in **TOTEM**'s `_pass.sh` script.

Dependent modules:

+ **ENUMS** [WWW](https://github.com/totemstan/enums)  [COE](https://sc.appdev.proj.coe/acmesds/enums)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/enums)  
+ **SECLINK** [WWW](https://github.com/totemstan/securelink)  [COE](https://sc.appdev.proj.coe/acmesds/securelink)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/securelink)  
+ **SOCKETIO** [WWW](https://github.com/totemstan/socketio)  [COE](https://sc.appdev.proj.coe/acmesds/socketio)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/socketio)  
+ **JSDB** [WWW](https://github.com/totemstan/jsdb)  [COE](https://sc.appdev.proj.coe/acmesds/jsdb)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/jsdb)  
+ **GEOHACK** [WWW](https://github.com/totemstan/geohack)  [COE](https://sc.appdev.proj.coe/acmesds/geohack)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/geohack)  
+ **ATOMIC** [WWW](https://github.com/totemstan/atomic)  [COE](https://sc.appdev.proj.coe/acmesds/atomic)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/atomic)  
+ **TOTEM** [WWW](https://github.com/totemstan/totem)  [COE](https://sc.appdev.proj.coe/acmesds/totem)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/totem)  
+ **RANDPR** [WWW](https://github.com/totemstan/randpr)  [COE](https://sc.appdev.proj.coe/acmesds/randpr)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/randpr)  
+ **MAN** [WWW](https://github.com/totemstan/man)  [COE](https://sc.appdev.proj.coe/acmesds/man)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/man)  
+ **READER** [WWW](https://github.com/totemstan/reader)  [COE](https://sc.appdev.proj.coe/acmesds/reader)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/reader)  
+ **PIPE** [WWW](https://github.com/totemstan/pipe)  [COE](https://sc.appdev.proj.coe/acmesds/pipe)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/pipe)  
+ **BLOG** [WWW](https://github.com/totemstan/blog)  [COE](https://sc.appdev.proj.coe/acmesds/blog)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/blog)  
+ **SKIN** [WWW](https://github.com/totemstan/skin)  [COE](https://sc.appdev.proj.coe/acmesds/skin)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/skin)  
+ **DOGS** [WWW](https://github.com/totemstan/dogs)  [COE](https://sc.appdev.proj.coe/acmesds/dogs)  [SBU](https://gitlab.west.nga.ic.gov/acmesds/dogs)  

## Federated Installation

Simply install and start its federated docker image (
[WWW](https://github.com/totemstan/dockify) 
[COE](https://sc.appdev.proj.coe/acmesds/dockify)
[SBU](https://gitlab.west.nga.ic.gov/acmesds/dockify)
).

## Manage 

	npm test [ ? || D1 || D2 || ... ]	# Unit test
	npm run redoc						# Update repo
	npm run startdb						# Start the database servers
	npm run prot						# Configure for protected mode
	npm run debug						# Configure for debugging mode
	npm run oper						# Configure for operational mode
	npm run prod						# Configure for production mode
	npm run updateio					# Update totemstan.github.io from jades/totemblog
	npm run raster --in=src --out=tar	# Rasterize source url into a target file 
	npm run lab							# Start debe with matrix lab workshop
	npm run admin						# Start debe 

## Usage

Require, configure and start a DEBE server:

	const DEBE = require("debe");
	
	DEBE.config({
		key: value, 						// set key
		"key.key": value, 					// indexed set
		"key.key.": value					// indexed append
	}, err =>  {
		console.log( err ? "something evil is lurking" : "look mom - Im running!");
	});

where its configuration keys (
[WWW](http://totem.hopto.org/shares/prm/totem/index.html) 
[COE](https://totem.west.ile.nga.ic.gov/shares/prm/totem/index.html) 
[SBU](https://totem.nga.mil/shares/prm/totem/index.html)
)
follow the **ENUMS** deep copy conventions (
[WWW](https://github.com/totemstan/enum) 
[COE](https://sc.appdev.proj.coe/acmesds/enum) 
[SBU](https://gitlab.west.nga.ic.gov/acmesds/enum)
).

## Program Reference
<details>
<summary>
<i>Open/Close</i>
</summary>
{{>main}}
</details>

## Contacting, Contributing, Following

Feel free to 
* submit and status **TOTEM** issues (
[WWW](http://totem.hopto.org/issues.view) 
[COE](https://totem.west.ile.nga.ic.gov/issues.view) 
[SBU](https://totem.nga.mil/issues.view)
)  
* contribute to **TOTEM** notebooks (
[WWW](http://totem.hopto.org/shares/notebooks/) 
[COE](https://totem.west.ile.nga.ic.gov/shares/notebooks/) 
[SBU](https://totem.nga.mil/shares/notebooks/)
)  
* revise **TOTEM** requirements (
[WWW](http://totem.hopto.org/reqts.view) 
[COE](https://totem.west.ile.nga.ic.gov/reqts.view) 
[SBU](https://totem.nga.mil/reqts.view), 
)  
* browse **TOTEM** holdings (
[WWW](http://totem.hopto.org/) 
[COE](https://totem.west.ile.nga.ic.gov/) 
[SBU](https://totem.nga.mil/)
)  
* or follow **TOTEM** milestones (
[WWW](http://totem.hopto.org/milestones.view) 
[COE](https://totem.west.ile.nga.ic.gov/milestones.view) 
[SBU](https://totem.nga.mil/milestones.view)
).

## License

[MIT](LICENSE)

* * *

&copy; 2012 ACMESDS